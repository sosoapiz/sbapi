<form nz-form *ngIf="interForm" [formGroup]="interForm" (ngSubmit)="_submitForm($event, interForm.value)" [nzLayout]="'horizontal'">
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="name" nz-form-item-required>接口名称</label>
    </div>
    <div nz-form-control nz-col [nzSm]="16" [nzXs]="24" nzHasFeedback [nzValidateStatus]="getFormControl('name')">
      <nz-input [nzSize]="'large'" formControlName="name" [nzId]="'name'"></nz-input>
      <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">请输入文档标题!</div>
    </div>
  </div>

  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="path" nz-form-item-required>请求路径</label>
    </div>
    <div nz-form-control nz-col [nzSm]="16" [nzXs]="24" nzHasFeedback [nzValidateStatus]="getFormControl('path')">
      <nz-input [nzSize]="'large'" formControlName="path" [nzId]="'path'"></nz-input>
      <div nz-form-explain *ngIf="getFormControl('path').dirty&&getFormControl('path').hasError('required')">请输入文档标题!</div>
    </div>
  </div>
  
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="moduleId">所属模块</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('moduleId')">
      <nz-select formControlName="moduleId" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
        <nz-option 
            *ngFor="let item of _modules" 
            [nzLabel]="item.label"
            [nzValue]="item.value"
            [nzDisabled]="item.disabled">
        </nz-option>
      </nz-select>
    </div>

    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="deprecated">是否弃用</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('deprecated')">
      <nz-select formControlName="deprecated" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
          <nz-option nzLabel="是" [nzValue]="true"></nz-option>
          <nz-option nzLabel="否" [nzValue]="false"></nz-option>
      </nz-select>
    </div>
  </div>

  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="method">请求方式</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('method')">
      <nz-select formControlName="method" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
          <nz-option 
              *ngFor="let item of _requestMethods" 
              [nzLabel]="item.label"
              [nzValue]="item.value"
              [nzDisabled]="item.disabled">
          </nz-option>
      </nz-select>
    </div>

    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="scheme">请求协议</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('scheme')">
      <nz-select formControlName="scheme" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
        <nz-option 
            *ngFor="let item of _requestProtocols" 
            [nzLabel]="item.label"
            [nzValue]="item.value"
            [nzDisabled]="item.disabled">
        </nz-option>
      </nz-select>
    </div>
  </div>

  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="consume">请求格式</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('consume')">
      <nz-select formControlName="consume" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
          <nz-option 
              *ngFor="let item of _requestFormats" 
              [nzLabel]="item.label"
              [nzValue]="item.value"
              [nzDisabled]="item.disabled">
          </nz-option>
      </nz-select>
    </div>

    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="produce">响应格式</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('produce')">
      <nz-select formControlName="produce" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
        <nz-option 
            *ngFor="let item of _responseFormats" 
            [nzLabel]="item.label"
            [nzValue]="item.value"
            [nzDisabled]="item.disabled">
        </nz-option>
      </nz-select>
    </div>
  </div>

  <!-- <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="developmentStatus">开发状态</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('developmentStatus')">
      <nz-select formControlName="developmentStatus" [nzSize]="'large'" [nzPlaceHolder]="''" [nzAllowClear]="false" >
          <nz-option 
              *ngFor="let item of _developmentStatus" 
              [nzLabel]="item.label"
              [nzValue]="item.value"
              [nzDisabled]="item.disabled">
          </nz-option>
      </nz-select>
    </div>

    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="principal">责任人</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" nzHasFeedback [nzValidateStatus]="getFormControl('principal')">
      <nz-input [nzSize]="'large'" formControlName="principal" [nzId]="'principal'"></nz-input>
    </div>
  </div> -->

  <!-- <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="tags">标签</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" nzHasFeedback [nzValidateStatus]="getFormControl('tags')">
      <nz-input [nzSize]="'large'" formControlName="tags" [nzId]="'tags'"></nz-input>
    </div>

    <div nz-form-label nz-col [nzSm]="4" [nzXs]="24">
      <label for="code">接口标识</label>
    </div>
    <div nz-form-control nz-col [nzSm]="6" [nzXs]="24" [nzValidateStatus]="getFormControl('code')">
      <nz-input [nzSize]="'large'" formControlName="code" [nzId]="'code'"></nz-input>
    </div>
  </div> -->

  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSpan]="4">
      <label for="description">文档说明</label>
    </div>
    <div nz-form-control nz-col [nzSpan]="16" [nzValidateStatus]="getFormControl('description')">
      <nz-input formControlName="description" nzType="textarea" nzRows="4" [nzAutosize]="autosize"></nz-input>
    </div>
  </div>

  <div nz-row>
    <div nz-col [nzSpan]="14" [nzOffset]="4">
      <button nz-button type="button" [nzType]="'primary'" [nzSize]="'large'" (click)="_save($event)">
          <span>保存</span>
      </button>
    </div>
  </div>
</form>